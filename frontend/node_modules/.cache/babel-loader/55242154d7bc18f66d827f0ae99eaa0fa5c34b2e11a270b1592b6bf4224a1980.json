{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'../style/FileUpload.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUpload=_ref=>{let{onFileUpload}=_ref;const[file,setFile]=useState(null);const[fileContent,setFileContent]=useState('');const handleFileChange=e=>{const selectedFile=e.target.files[0];setFile(selectedFile);const reader=new FileReader();reader.onload=event=>{setFileContent(event.target.result);};reader.readAsText(selectedFile);};const handleUpload=async()=>{if(!file)return;const formData=new FormData();formData.append('codefile',file);try{const response=await axios.post('http://localhost:3001/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});onFileUpload({...response.data,rawContent:fileContent});}catch(error){console.error('Error uploading file',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"custom-file-upload\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange}),\"\\u0412\\u0438\\u0431\\u0440\\u0430\\u0442\\u0438 \\u0444\\u0430\\u0439\\u043B\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleUpload,children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0438\\u0442\\u0438\"})]});};export default FileUpload;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","FileUpload","_ref","onFileUpload","file","setFile","fileContent","setFileContent","handleFileChange","e","selectedFile","target","files","reader","FileReader","onload","event","result","readAsText","handleUpload","formData","FormData","append","response","post","headers","data","rawContent","error","console","className","children","type","onChange","onClick"],"sources":["/Users/ruslanpaskudnyk/Desktop/code-analyser/code-analyzer-frontend/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport '../style/FileUpload.css';\n\nconst FileUpload = ({ onFileUpload }) => {\n    const [file, setFile] = useState(null);\n    const [fileContent, setFileContent] = useState('');\n\n    const handleFileChange = (e) => {\n        const selectedFile = e.target.files[0];\n        setFile(selectedFile);\n\n        const reader = new FileReader();\n        reader.onload = (event) => {\n            setFileContent(event.target.result);\n        };\n        reader.readAsText(selectedFile);\n    };\n\n    const handleUpload = async () => {\n        if (!file) return;\n\n        const formData = new FormData();\n        formData.append('codefile', file);\n\n        try {\n            const response = await axios.post('http://localhost:3001/upload', formData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data',\n                },\n            });\n\n            onFileUpload({ ...response.data, rawContent: fileContent });\n        } catch (error) {\n            console.error('Error uploading file', error);\n        }\n    };\n\n    return (\n        <div className=\"file-upload\">\n            <label className=\"custom-file-upload\">\n                <input type=\"file\" onChange={handleFileChange} />\n                Вибрати файл\n            </label>\n            <button className=\"button\" onClick={handleUpload}>Завантажити</button>\n        </div>\n    );\n};\n\nexport default FileUpload;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAsB,IAArB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CAChC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAa,gBAAgB,CAAIC,CAAC,EAAK,CAC5B,KAAM,CAAAC,YAAY,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CACtCP,OAAO,CAACK,YAAY,CAAC,CAErB,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,KAAK,EAAK,CACvBT,cAAc,CAACS,KAAK,CAACL,MAAM,CAACM,MAAM,CAAC,CACvC,CAAC,CACDJ,MAAM,CAACK,UAAU,CAACR,YAAY,CAAC,CACnC,CAAC,CAED,KAAM,CAAAS,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CAACf,IAAI,CAAE,OAEX,KAAM,CAAAgB,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,CAAElB,IAAI,CAAC,CAEjC,GAAI,CACA,KAAM,CAAAmB,QAAQ,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,IAAI,CAAC,8BAA8B,CAAEJ,QAAQ,CAAE,CACxEK,OAAO,CAAE,CACL,cAAc,CAAE,qBACpB,CACJ,CAAC,CAAC,CAEFtB,YAAY,CAAC,CAAE,GAAGoB,QAAQ,CAACG,IAAI,CAAEC,UAAU,CAAErB,WAAY,CAAC,CAAC,CAC/D,CAAE,MAAOsB,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAChD,CACJ,CAAC,CAED,mBACI5B,KAAA,QAAK8B,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB/B,KAAA,UAAO8B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCjC,IAAA,UAAOkC,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAEzB,gBAAiB,CAAE,CAAC,sEAErD,EAAO,CAAC,cACRV,IAAA,WAAQgC,SAAS,CAAC,QAAQ,CAACI,OAAO,CAAEf,YAAa,CAAAY,QAAA,CAAC,oEAAW,CAAQ,CAAC,EACrE,CAAC,CAEd,CAAC,CAED,cAAe,CAAA9B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}