{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import'../style/Statistics.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Statistics=()=>{const[statistics,setStatistics]=useState([]);useEffect(()=>{fetchStatistics();},[]);const fetchStatistics=async()=>{try{const response=await axios.get('http://localhost:3001/statistics');setStatistics(response.data);}catch(error){console.error('Error fetching statistics:',error);}};const handleDelete=async id=>{try{await axios.delete(\"http://localhost:3001/statistics/\".concat(id));fetchStatistics();}catch(error){console.error('Error deleting statistic:',error);}};const handleClearAll=async()=>{try{await axios.delete('http://localhost:3001/statistics');fetchStatistics();}catch(error){console.error('Error clearing statistics:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"statistics-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u0410\\u043D\\u0430\\u043B\\u0456\\u0437\\u0443\"}),/*#__PURE__*/_jsx(\"div\",{className:\"buttons-container-statistics\",children:/*#__PURE__*/_jsx(\"button\",{className:\"clear-button\",onClick:handleClearAll,children:\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u0438 \\u0432\\u0441\\u0435\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"statistics-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u0444\\u0430\\u0439\\u043B\\u0443\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041C\\u043E\\u0432\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0412\\u0438\\u044F\\u0432\\u043B\\u0435\\u043D\\u0456 \\u0443\\u0440\\u0430\\u0437\\u043B\\u0438\\u0432\\u043E\\u0441\\u0442\\u0456\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0430\\u043D\\u0430\\u043B\\u0456\\u0437\\u0443\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0456\\u044F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:statistics.map(stat=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:stat.id}),/*#__PURE__*/_jsx(\"td\",{children:stat.file_name}),/*#__PURE__*/_jsx(\"td\",{children:stat.language}),/*#__PURE__*/_jsx(\"td\",{children:stat.vulnerabilities_detected}),/*#__PURE__*/_jsx(\"td\",{children:stat.analysis_date}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(stat.id),children:\"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"})})]},stat.id))})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})})]});};export default Statistics;","map":{"version":3,"names":["React","useEffect","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","Statistics","statistics","setStatistics","fetchStatistics","response","get","data","error","console","handleDelete","id","delete","concat","handleClearAll","className","children","onClick","map","stat","file_name","language","vulnerabilities_detected","analysis_date","to"],"sources":["/Users/ruslanpaskudnyk/Desktop/code-analyser/code-analyzer-frontend/frontend/src/components/Statistics.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport '../style/Statistics.css';\n\nconst Statistics = () => {\n    const [statistics, setStatistics] = useState([]);\n\n    useEffect(() => {\n        fetchStatistics();\n    }, []);\n\n    const fetchStatistics = async () => {\n        try {\n            const response = await axios.get('http://localhost:3001/statistics');\n            setStatistics(response.data);\n        } catch (error) {\n            console.error('Error fetching statistics:', error);\n        }\n    };\n\n    const handleDelete = async (id) => {\n        try {\n            await axios.delete(`http://localhost:3001/statistics/${id}`);\n            fetchStatistics();\n        } catch (error) {\n            console.error('Error deleting statistic:', error);\n        }\n    };\n\n    const handleClearAll = async () => {\n        try {\n            await axios.delete('http://localhost:3001/statistics');\n            fetchStatistics();\n        } catch (error) {\n            console.error('Error clearing statistics:', error);\n        }\n    };\n\n    return (\n        <div className=\"statistics-container\">\n            <h2>Статистика Аналізу</h2>\n            <div className=\"buttons-container-statistics\">\n                <button className=\"clear-button\" onClick={handleClearAll}>Очистити все</button>\n            </div>\n\n            <table className=\"statistics-table\">\n                <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Назва файлу</th>\n                    <th>Мова</th>\n                    <th>Виявлені уразливості</th>\n                    <th>Дата аналізу</th>\n                    <th>Дія</th>\n                </tr>\n                </thead>\n                <tbody>\n                {statistics.map((stat) => (\n                    <tr key={stat.id}>\n                        <td>{stat.id}</td>\n                        <td>{stat.file_name}</td>\n                        <td>{stat.language}</td>\n                        <td>{stat.vulnerabilities_detected}</td>\n                        <td>{stat.analysis_date}</td>\n                        <td>\n                            <button onClick={() => handleDelete(stat.id)}>Видалити</button>\n                        </td>\n                    </tr>\n                ))}\n                </tbody>\n            </table>\n            <Link to=\"/\">\n                <button className=\"back-button\">Назад</button>\n            </Link>\n        </div>\n    );\n};\n\nexport default Statistics;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}